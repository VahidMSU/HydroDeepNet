{% extends "layout.html" %} {% block title %}Hydrological Modeling and Deep
Learning Framework{% endblock %} {% block content %}

<style>
  /* Container styles */
  .container {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 20px auto;
    max-width: 1200px;
    padding: 20px;
  }

  .header-title {
    text-align: center;
    margin-bottom: 30px;
    color: #333;
    font-size: 2.5rem;
    font-weight: bold;
  }

  .section {
    margin-bottom: 40px;
  }

  .section h3 {
    color: #444;
    font-size: 1.8rem;
    margin-bottom: 20px;
  }

  .section p {
    font-size: 1.1rem;
    line-height: 1.8;
    color: #555;
    margin-bottom: 20px;
  }

  .section ul {
    padding-left: 20px;
    font-size: 1.1rem;
    line-height: 1.8;
  }

  .section ul li {
    margin-bottom: 10px;
  }

  .image-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    width: 100%;
    margin-top: 20px;
  }

  .image-card {
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    background-color: #fff;
    overflow: hidden;
    text-align: center;
    cursor: pointer;
  }

  .image-card img {
    width: 100%;
    height: auto;
  }

  .image-card h4 {
    padding: 10px;
    background-color: #f9f9f9;
    font-size: 1.1rem;
    color: #555;
  }

  .interactive-btns {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 30px 0;
  }

  .btn {
    background-color: #007bff;
    color: #fff;
    padding: 10px 20px;
    border-radius: 5px;
    text-decoration: none;
    font-size: 1rem;
    transition: background-color 0.3s;
  }

  .btn:hover {
    background-color: #0056b3;
  }

  /* Modal styles */
  .modal {
    display: none;
    position: fixed;
    z-index: 1000;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    align-items: center;
    justify-content: center;
  }

  .modal img {
    max-width: 90%;
    max-height: 90%;
    border-radius: 10px;
  }

  .modal-close {
    position: absolute;
    top: 20px;
    right: 20px;
    color: white;
    font-size: 2rem;
    cursor: pointer;
  }
</style>

<div class="container">
  <h1 class="header-title">
    Hydrological Modeling and Deep Learning Framework
  </h1>

  <!-- Overview Section -->
  <div class="section">
    <h3>Overview</h3>
    <p>
      This platform integrates advanced hydrological modeling, hierarchical data
      management, and deep learning techniques. By leveraging models such as
      SWAT+ and MODFLOW, it predicts hydrological variables at high spatial and
      temporal resolutions, enabling improved understanding of surface and
      groundwater processes.
    </p>
  </div>

  <!-- Key Components Section -->
  <div class="section">
    <h3>Key Components</h3>

    <!-- Hydrological Modeling with SWAT+ -->
    <h4>1. Hydrological Modeling with SWAT+</h4>
    <p>
      SWAT+ serves as the core model for simulating surface and subsurface
      hydrological cycles. It integrates datasets such as NHDPlus HR (1:24k
      resolution) and DEM (30m resolution) to accurately model watershed
      processes. Key highlights:
    </p>
    <ul>
      <li>Simulates evapotranspiration, runoff, and groundwater recharge.</li>
      <li>Uses hierarchical land classification for HRU-based analysis.</li>
      <li>
        Employs Particle Swarm Optimization (PSO) for calibrating hydrological
        parameters.
      </li>
    </ul>

    <!-- Hierarchical Data Management -->
    <h4>2. Hierarchical Data Management</h4>
    <p>
      The platform uses a robust HDF5 database to manage multi-resolution data,
      integrating datasets like:
    </p>
    <ul>
      <li>Land use and soil data (250m resolution).</li>
      <li>Groundwater properties derived from 650k water wells.</li>
      <li>
        Meteorological inputs from PRISM (4km) and NSRDB (2km, upsampled to
        4km).
      </li>
    </ul>
    <p>
      Temporal and spatial preprocessing ensures consistent resolution and
      gap-filling for missing data.
    </p>

    <!-- GeoNet Vision System -->
    <h4>3. GeoNet Vision System</h4>
    <p>
      GeoNet leverages hydrological data to perform spatiotemporal regression
      tasks. Using CNN-Transformers and other deep learning architectures,
      GeoNet predicts groundwater recharge, climate impacts, and more. Features
      include:
    </p>
    <ul>
      <li>Support for 4D spatiotemporal analysis at 250m resolution.</li>
      <li>
        Efficient processing of hydrological data with specialized loss
        functions for spatial and temporal evaluation.
      </li>
      <li>Modular design for hyperparameter tuning and model customization.</li>
    </ul>
  </div>

  <!-- Visual Interactive Section -->
  <div class="section">
    <h3>Hydrological Model Creation Framework</h3>
    <div class="image-grid">
      <div class="image-card">
        <img
          src="{{ url_for('static', filename='images/SWATGenX_flowchart.jpg') }}"
          alt="SWATGenX Workflow"
          onclick="openModal(this)"
        />
        <h4>SWATGenX Workflow</h4>
      </div>
    </div>
  </div>

  <!-- Applications Section -->
  <div class="section">
    <h3>Applications</h3>
    <ul>
      <li>Predicting groundwater recharge in data-scarce regions.</li>
      <li>
        Assessing the impacts of climate change on hydrological processes.
      </li>
      <li>
        Supporting scalable watershed-level hydrological modeling and
        decision-making.
      </li>
    </ul>
  </div>

  <div class="interactive-btns">
    <a href="#" class="btn">Learn More</a>
    <a href="#" class="btn">Download Data</a>
  </div>
</div>

<!-- Modal -->
<div class="modal" id="imageModal">
  <span class="modal-close" onclick="closeModal()">&times;</span>
  <img id="modalImage" src="" alt="Large view" />
</div>

<script>
  const images = Array.from(document.querySelectorAll(".image-card img"));
  let currentIndex = 0;

  function openModal(image) {
    const modal = document.getElementById("imageModal");
    const modalImage = document.getElementById("modalImage");

    currentIndex = images.indexOf(image);
    modalImage.src = image.src;
    modal.style.display = "flex";

    document.addEventListener("keydown", handleKeyDown);
  }

  function closeModal() {
    const modal = document.getElementById("imageModal");
    modal.style.display = "none";

    document.removeEventListener("keydown", handleKeyDown);
  }

  function handleKeyDown(event) {
    if (event.key === "ArrowRight") {
      currentIndex = (currentIndex + 1) % images.length;
    } else if (event.key === "ArrowLeft") {
      currentIndex = (currentIndex - 1 + images.length) % images.length;
    } else if (event.key === "Escape") {
      closeModal();
      return;
    }

    const modalImage = document.getElementById("modalImage");
    modalImage.src = images[currentIndex].src;
  }
</script>

{% endblock %}
